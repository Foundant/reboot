var rb_gridfree=function(a){this.$container=a};rb_gridfree.prototype.initialize=function(){this.$blocks=this.$container.children("[data-rb-gf-fix],[data-rb-gf-rel]"),console.log("rb: initializing "+this.$blocks.length+" blocks");var a=0,b=0;return this.$blocks.filter(function(){return $(this).data("rb-gf-fix")}).each(function(b,c){a+=$(c).data("rb-gf-fix")}),this.fixedTotal=a,this.$blocks.filter(function(){return $(this).data("rb-gf-rel")}).each(function(a,c){b+=$(c).data("rb-gf-rel")}),this.relativeTotal=b,this.$blocks.filter(function(){return $(this).data("rb-gf-rel")}).each(function(a,c){var d=$(c).data("rb-gf-rel");$(c).data("rb-gf-fix");$(c).attr("data-rb-gf-rel-pct",d/b)}),console.log("rb: found "+a+" fix and "+b+" rel"),this.resize(),this},rb_gridfree.prototype.resize=function(){for(var a=(this.$container.width()-this.fixedTotal)/this.$container.width(),b=0;b<this.$blocks.length;b++){var c=this.$blocks[b],d=$(c).data("rb-gf-rel-pct")*a*100,e=$(c).data("rb-gf-fix"),f=$(c).css("marginLeft")||"0px",g="0px - 2 * "+f;d&&(g+=" + "+d+"%"),e&&(g+=" + "+e+"px"),$(c).css("width","calc("+g+")")}},$(function(){$(".rb-gridfree").each(function(){var a=new rb_gridfree($(this));a.initialize(),$(window).on("resize",function(){a.resize()})})});