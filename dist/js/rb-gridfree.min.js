var RBGridFree=function(){function i(i){this.$container=i}return i.prototype.initialize=function(){this.$blocks=this.$container.children("[data-gridfree-fix],[data-gridfree-rel]"),console.log("rb: initializing "+this.$blocks.length+" blocks")
var i=0,t=0
return this.$blocks.filter(function(){return $(this).data("gridfree-fix")}).each(function(t,e){i+=$(e).data("gridfree-fix")}),this.fixedTotal=i,this.$blocks.filter(function(){return $(this).data("gridfree-rel")}).each(function(i,e){t+=$(e).data("gridfree-rel")}),this.relativeTotal=t,this.$blocks.filter(function(){return $(this).data("gridfree-rel")}).each(function(i,e){var r=$(e).data("gridfree-rel")
$(e).attr("data-gridfree-rel-pct",r/t)}),console.log("rb: found "+i+" fix and "+t+" rel"),this.resize(),this},i.prototype.resize=function(){for(var i=(this.$container.width()-this.fixedTotal)/this.$container.width(),t=0;t<this.$blocks.length;t++){var e=this.$blocks[t],r=$(e).data("gridfree-rel-pct")*i*100,n=$(e).data("gridfree-fix"),a=$(e).css("marginLeft")||"0px",o="0px - 2 * "+a
r&&(o+=" + "+r+"%"),n&&(o+=" + "+n+"px"),$(e).css("width","calc("+o+")")}},i}()
$(function(){$(".rb-gridfree").each(function(){var i=new RBGridFree($(this))
i.initialize(),$(window).on("resize",function(){i.resize()})
var t=$(this).closest(".rb-tab")
t.on("tab:open",function(){i.resize()})})})
