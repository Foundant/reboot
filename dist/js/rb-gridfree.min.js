var rb_gridfree=function(t){this.$container=t}
rb_gridfree.prototype.initialize=function(){this.$blocks=this.$container.children("[data-rb-gf-fix],[data-rb-gf-rel]"),console.log("rb: initializing "+this.$blocks.length+" blocks")
var t=0,i=0
return this.$blocks.filter(function(){return $(this).data("rb-gf-fix")}).each(function(i,r){t+=$(r).data("rb-gf-fix")}),this.fixedTotal=t,this.$blocks.filter(function(){return $(this).data("rb-gf-rel")}).each(function(t,r){i+=$(r).data("rb-gf-rel")}),this.relativeTotal=i,this.$blocks.filter(function(){return $(this).data("rb-gf-rel")}).each(function(t,r){var e=$(r).data("rb-gf-rel")
$(r).attr("data-rb-gf-rel-pct",e/i)}),console.log("rb: found "+t+" fix and "+i+" rel"),this.resize(),this},rb_gridfree.prototype.resize=function(){for(var t=(this.$container.width()-this.fixedTotal)/this.$container.width(),i=0;i<this.$blocks.length;i++){var r=this.$blocks[i],e=$(r).data("rb-gf-rel-pct")*t*100,n=$(r).data("rb-gf-fix"),a=$(r).css("marginLeft")||"0px",o="0px - 2 * "+a
e&&(o+=" + "+e+"%"),n&&(o+=" + "+n+"px"),$(r).css("width","calc("+o+")")}},$(function(){$(".rb-gridfree").each(function(){var t=new rb_gridfree($(this))
t.initialize(),$(window).on("resize",function(){t.resize()})
var i=$(this).closest(".rb-tab")
i.on("tab:open",function(){t.resize()})})})
